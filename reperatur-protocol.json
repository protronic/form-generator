{
    "formular": "Reparaturbericht",
    "felder": [
        {
            "name": "kundennummer",
            "feldtyp": "text",
            "label": "Kundennummer:",
            "platzhalter": "zb: 10000", 
            "muster": "[0-9]{5}"
        },
        {
            "name": "kontakt",
            "feldtyp": "object",
            "label": "Ansprechpartner:",
            "subform": [
                {
                    "name": "anrede",
                    "label": "Anrede:",
                    "feldtyp": "radio",
                    "items": ["Herr", "Frau"]
                },
                {
                    "name": "name",
                    "label": "Vollständiger Name:",
                    "feldtyp": "text"
                },
                {
                    "name": "telefon",
                    "label": "Telefon:",
                    "feldtyp": "tel"
                },
                {
                    "name": "fax",
                    "label": "Fax:",
                    "feldtyp": "tel"
                },
                {
                    "name": "email",
                    "label": "E-Mail:",
                    "feldtyp": "email"
                },
                {
                    "name": "anschrift",
                    "label": "Anschrift:",
                    "feldtyp": "text"
                },
                {
                    "name": "sonstiges",
                    "label": "Sonstiges:",
                    "feldtyp": "textarea"
                }
            ]
        },
        {
            "name": "eingangsdatum", 
            "label": "Eingangsdatum:", 
            "feldtyp": "date"
        },
        {
            "name": "artikelnummer",
            "label": "Artikelnummer:",
            "feldtyp": "lookup",
            "platzhalter": "zb: 1006000061", 
            "muster": "[0-9]{10}|[0-9]{7}",
            "query": "SELECT Artikelnummer, Matchcode FROM [prot-sage11].OLReweAbf.dbo.KHKArtikel WHERE Artikelnummer LIKE '?' OR Dimensionstext LIKE '?'"
        },
        {
            "name": "seriennummer",
            "label": "Seriennummer:",
            "feldtyp": "text"
        },
        {
            "name": "platinennnummern",
            "label": "Platinennummern:",
            "feldtyp": "list",
            "vorlage": [
                {
                    "name": "platinennummer",
                    "feldtyp": "text"
                }
            ]
        },
        {
            "name": "qsnummer",
            "label": "QS-Nummer:",
            "feldtyp": "text"
        },
        {
            "name": "auftragsnummer",
            "label": "Auftragsnummer:",
            "feldtyp": "text"
        },
        {
            "name": "fehlerbeschreibung-kunde",
            "label": "Fehlerbeschreibung des Kunden:",
            "feldtyp": "textarea",
            "platzhalter": ""
        },
        {
            "name": "keinfehler",
            "label": "Kein Fehler?",
            "feldtyp": "boolean"
        },
        {
            "name": "produktionsfehlerliste",
            "feldtyp": "list",
            "label": "Produktionsfehler",
            "vorlage": [
                {
                    "name": "produktionsfehler",
                    "feldtyp": "object",
                    "label": " ",
                    "subform": [
                        {
                            "name": "pf-designator", 
                            "label": "Designator:", 
                            "feldtyp": "text",
                            "platzhalter": "TODO: add async liste laden"
                        },
                        {
                            "name": "pf-fehlerkategorie",
                            "label": "Fehlerkategorie",
                            "feldtyp": "dropdown",
                            "standard": "auf dem Kopf",
                            "items": ["fehlt", "verdreht", "auf dem Kopf", "Ltfehler", "Bestckfehler"]
                        },
                        {
                            "name": "pf-behebung",
                            "label": "Behebung",
                            "feldtyp": "dropdown",
                            "items": ["Nacharbeiten", "Ersetzen"]
                        },
                        {
                            "name": "pf-ersetzte-artikelnummern",
                            "label": "Artikelnummern ersetzt:",
                            "feldtyp": "dependentenumtextarea",
                            "pflichtfeld": true,
                            "abhaengigFeld": "pf-behebung",
                            "wertSichtbar": "Ersetzen"
                        }
                    ]
                }
            ]
        },
        {
            "name": "mechanischefehlerliste",
            "feldtyp": "list",
            "label": "Mechanische Fehler",
            "vorlage": [
                {
                    "name": "mechanischefehler",
                    "feldtyp": "object",
                    "label": " ",
                    "subform": [
                        {
                            "name": "mf-komponente", 
                            "label": "Komponente:", 
                            "feldtyp": "text"
                        },
                        {
                            "name": "mf-fehlerkategorie",
                            "label": "Fehlerkategorie",
                            "feldtyp": "dropdown",
                            "items": ["verschmutzt", "abgerissen", "gebrochen", "Wasserschaden", "zerschnitten/zerkratzt", "unvollständig", "verbogen"]
                        },
                        {
                            "name": "mf-ursache",
                            "label": "Mögliche Ursache",
                            "feldtyp": "dropdown",
                            "items": ["Transportschaden", "Montageschaden", "Altersbedingt", "sonstige"]
                        },
                        {
                            "name": "mf-behebung",
                            "label": "Behebung",
                            "feldtyp": "dropdown",
                            "items": ["Nacharbeiten", "Ersetzen"]
                        },
                        {
                            "name": "mf-ersetzte-artikelnummern",
                            "label": "Artikelnummern ersetzt:",
                            "feldtyp": "dependentenumtextarea",
                            "pflichtfeld": true,
                            "abhaengigFeld": "mf-behebung",
                            "wertSichtbar": "Ersetzen"
                        }
                    ]
                }
            ]
        },
        {
            "name": "elektronischefehlerliste",
            "feldtyp": "list",
            "label": "Elektronische Fehler",
            "vorlage": [
                {
                    "name": "elektronischefehler",
                    "feldtyp": "object",
                    "label": " ",
                    "subform": [
                        {
                            "name": "ef-komponente", 
                            "label": "Komponente:", 
                            "feldtyp": "text"
                        },
                        {
                            "name": "ef-fehlerkategorie",
                            "label": "Fehlerkategorie",
                            "feldtyp": "dropdown",
                            "items": ["verbrannt", "defekt"]
                        },
                        {
                            "name": "ef-ursache",
                            "label": "Mögliche Ursache",
                            "feldtyp": "dropdown",
                            "items": ["Überspannung", "Kurzschluss", "Verpohlung", "Bauteilfehler", "sonstige"]
                        },
                        {
                            "name": "ef-behebung",
                            "label": "Behebung",
                            "feldtyp": "dropdown",
                            "items": ["Nacharbeiten", "Ersetzen"]
                        },
                        {
                            "name": "ef-ersetzte-artikelnummern2",
                            "label": "Artikelnummern ersetzt:",
                            "feldtyp": "dependentenumtextarea",
                            "pflichtfeld": true,
                            "abhaengigFeld": "ef-behebung",
                            "wertSichtbar": "Ersetzen"
                        }
                    ]
                }
            ]
        },
        {
            "name": "status",
            "label": "Aktueller Status",
            "feldtyp": "radio",
            "standard": "in Klärung",
            "pflichtfeld": true,
            "items": ["verschrottet", "in Klärung", "geprüft IO", "Instand gesetzt IO"]
        },
        {
            "name": "garantie",
            "label": "Garantie:",
            "feldtyp": "radio",
            "pflichtfeld": true,
            "items": ["ja", "nein", "Kulanz"]
        },
        {
            "name": "gutschrift",
            "label": "Gutschrift erteilt?",
            "feldtyp": "boolean",
            "standard": false
        },
        {
            "name": "qsabgeschlossen",
            "label": "QS abgeschlossen?",
            "feldtyp": "boolean",
            "deaktiviert": true
        },
        {
            "name": "ausgangslieferschein",
            "label": "Ausgangslieferschein:",
            "feldtyp": "text"
        },
        {
            "name": "ausgangsrechnung",
            "label": "Ausgangsrechnung:",
            "feldtyp": "text"
        },
        {
            "name": "memo",
            "label": "Memo",
            "feldtyp": "textarea"
        }
    ]
}